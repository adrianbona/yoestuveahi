(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{435:function(e,t,a){e.exports=a(685)},685:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=a(24),l=a(44),s=a(71),u=a(425),m=a(9),p=function(e){return{REQUEST:"".concat(e,".REQUEST"),SUCCESS:"".concat(e,".SUCCESS"),FAILURE:"".concat(e,".FAILURE")}},E={AUTHENTICATION_LOGIN:p("AUTHENTICATION_LOGIN"),AUTHENTICATION_LOGOUT:p("AUTHENTICATION_LOGOUT"),AUTHENTICATION_UPDATE_DETAILS:p("AUTHENTICATION_UPDATE_DETAILS"),AUTHENTICATION_REFRESH:p("AUTHENTICATION_REFRESH")},d=function(e){var t=e.email,a=e.password;return{type:E.AUTHENTICATION_LOGIN.REQUEST,email:t,password:a}},g=function(){return{type:E.AUTHENTICATION_LOGOUT.REQUEST}},f=function(e){var t=e.name,a=e.isAdministrator;return{type:E.AUTHENTICATION_UPDATE_DETAILS.REQUEST,name:t,isAdministrator:a}},b={loggingIn:!1,error:null,user:null},h={USERS_GET:p("USERS_GET"),USERS_REFRESH:p("USERS_REFRESH")},T=function(){return{type:h.USERS_GET.REQUEST}},O=function(){return{type:h.USERS_REFRESH.REQUEST}},S={loading:!1,list:[]},v={LOCATIONS_GET:p("LOCATIONS_GET"),LOCATIONS_CREATE:p("LOCATIONS_CREATE"),LOCATIONS_RESET:p("LOCATIONS_RESET")},x=function(){return{type:v.LOCATIONS_GET.REQUEST}},y=function(){return{type:v.LOCATIONS_RESET}},C=function(e){return Object(m.a)({type:v.LOCATIONS_CREATE.REQUEST},e)},j={loading:!1,list:[]},I={REGISTRIES_GET:p("REGISTRIES_GET"),REGISTRIES_CREATE:p("REGISTRIES_CREATE"),REGISTRIES_RESET:p("REGISTRIES_RESET")},A=function(){return{type:I.REGISTRIES_GET.REQUEST}},R=function(){return{type:I.REGISTRIES_RESET}},N=function(e){return Object(m.a)({type:I.REGISTRIES_CREATE.REQUEST},e)},_={loading:!1,list:[]},k={TESTS_GET:p("TESTS_GET"),TESTS_LOAD:p("TESTS_LOAD"),TESTS_RESET:p("TESTS_RESET")},w=function(){return{type:k.TESTS_GET.REQUEST}},U=function(){return{type:k.TESTS_RESET}},L=function(e){return Object(m.a)({type:k.TESTS_LOAD.REQUEST},e)},P={loading:!1,list:[]},D={NOTIFICATIONS_GET:p("NOTIFICATIONS_GET"),NOTIFICATIONS_REFRESH:p("NOTIFICATIONS_REFRESH")},G=function(){return{type:D.NOTIFICATIONS_GET.REQUEST}},F={loading:!1,list:[]},H={authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.AUTHENTICATION_LOGIN.REQUEST:return Object(m.a)({},e,{error:null,loggingIn:!0});case E.AUTHENTICATION_LOGIN.SUCCESS:var a=t.user;return Object(m.a)({},e,{user:a,loggingIn:!1});case E.AUTHENTICATION_LOGIN.FAILURE:return Object(m.a)({},e,{error:t.message,loggingIn:!1});case E.AUTHENTICATION_UPDATE_DETAILS.REQUEST:return Object(m.a)({},e,{error:null,loggingIn:!0});case E.AUTHENTICATION_UPDATE_DETAILS.SUCCESS:var n=t.user;return Object(m.a)({},e,{user:n,loggingIn:!1});case E.AUTHENTICATION_UPDATE_DETAILS.FAILURE:return Object(m.a)({},e,{error:t.message,loggingIn:!1});case E.AUTHENTICATION_LOGOUT.REQUEST:case E.AUTHENTICATION_LOGOUT.SUCCESS:return Object(m.a)({},b);case E.AUTHENTICATION_LOGOUT.FAILURE:return Object(m.a)({},b,{error:"Error Logging out"});case E.AUTHENTICATION_REFRESH:var r=t.users;return Object(m.a)({},e,{user:Object(m.a)({},e.user,{},r.find((function(t){return t.id===e.user.id})))});default:return e}},locations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.LOCATIONS_GET.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case v.LOCATIONS_GET.SUCCESS:var a=t.locations;return Object(m.a)({},e,{list:a.sort((function(e,t){return e.name.localeCompare(t.name)})),loading:!1});case v.LOCATIONS_GET.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});case v.LOCATIONS_CREATE.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case v.LOCATIONS_CREATE.SUCCESS:var n=t.location;return Object(m.a)({},e,{list:e.list.concat(n).sort((function(e,t){return e.name.localeCompare(t.name)})),loading:!1});case v.LOCATIONS_CREATE.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});case v.LOCATIONS_RESET:return Object(m.a)({},e,{list:e.list,error:null,loading:!1});default:return e}},registries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.REGISTRIES_GET.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case I.REGISTRIES_GET.SUCCESS:var a=t.registries;return Object(m.a)({},e,{list:a,loading:!1});case I.REGISTRIES_GET.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});case I.REGISTRIES_CREATE.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case I.REGISTRIES_CREATE.SUCCESS:var n=t.registries;return Object(m.a)({},e,{list:n,loading:!1});case I.REGISTRIES_CREATE.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});case I.REGISTRIES_RESET:return Object(m.a)({},e,{list:e.list,error:null,loading:!1});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.USERS_REFRESH.REQUEST:case h.USERS_GET.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case h.USERS_REFRESH.SUCCESS:case h.USERS_GET.SUCCESS:var a=t.users;return Object(m.a)({},e,{list:a.sort((function(e,t){return e.email.localeCompare(t.email)})),loading:!1});case h.USERS_REFRESH.FAILURE:case h.USERS_GET.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});default:return e}},tests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.TESTS_GET.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case k.TESTS_GET.SUCCESS:var a=t.tests;return Object(m.a)({},e,{list:a.sort((function(e,t){return e.dateTaken>t.dateTaken})),loading:!1});case k.TESTS_GET.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});case k.TESTS_LOAD.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case k.TESTS_LOAD.SUCCESS:var n=t.test;return Object(m.a)({},e,{list:e.list.concat(n).sort((function(e,t){return e.dateTaken>t.dateTaken})),loading:!1});case k.TESTS_LOAD.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});case k.TESTS_RESET:return Object(m.a)({},e,{list:e.list,error:null,loading:!1});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.NOTIFICATIONS_GET.REQUEST:return Object(m.a)({},e,{error:null,loading:!0});case D.NOTIFICATIONS_GET.SUCCESS:var a=t.notifications;return Object(m.a)({},e,{list:a,loading:!1});case D.NOTIFICATIONS_GET.FAILURE:return Object(m.a)({},e,{list:e.list,error:t.message,loading:!1});default:return e}}},M=function(){return Object(s.c)(Object(m.a)({},H))},B=a(7),W=a.n(B),Q=a(10),z=a(26),q=a.n(z),Y=a(256),V=a.n(Y),J=V.a.create({baseURL:"http://localhost:8000/api",headers:{"Content-Type":"application/json"}}),Z=V.a.create({baseURL:"".concat("https://cors-anywhere.herokuapp.com/").concat("https://maps.googleapis.com/"),headers:{Accept:"application/json","Content-Type":"application/json"}}),X=function(e){return localStorage.getItem(e)},$=function(e){return localStorage.removeItem(e)},K=function(e,t){return localStorage.setItem(e,t)},ee=function(){return X("user-auth-token")};function te(e){var t=e.email,a=e.password;return J.post("/login",{email:t,password:a})}function ae(){return J.get("/logout",{headers:{Authorization:"token ".concat(ee())}})}function ne(){return J.get("/user/",{headers:{Authorization:"token ".concat(ee())}})}function re(e){var t=e.name,a=e.isAdministrator;return J.patch("/user/",{name:t,is_admin:a},{headers:{Authorization:"token ".concat(ee())}})}var ce=W.a.mark(pe),oe=W.a.mark(Ee),ie=W.a.mark(de),le=W.a.mark(ge),se=W.a.mark(fe),ue=W.a.mark(be),me=W.a.mark(he);function pe(e){var t,a,n;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Q.b)(te,Object(m.a)({},e));case 3:return t=r.sent,a=t.data,c=a.token,K("user-auth-token",c),n=Object(m.a)({},a,{isAdministrator:a.is_admin,creationDate:q()(a.creation_date)}),r.next=9,Object(Q.d)({type:E.AUTHENTICATION_LOGIN.SUCCESS,user:n});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(Q.d)({type:E.AUTHENTICATION_LOGIN.FAILURE,message:r.t0.message||r.t0});case 15:case"end":return r.stop()}var c}),ce,null,[[0,11]])}function Ee(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(E.AUTHENTICATION_LOGIN.REQUEST,pe);case 2:case"end":return e.stop()}}),oe)}function de(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.b)(ae);case 2:case"end":return e.stop()}}),ie)}function ge(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(E.AUTHENTICATION_LOGOUT.REQUEST,de);case 2:case"end":return e.stop()}}),le)}function fe(e){var t,a,n;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Q.b)(re,Object(m.a)({},e));case 3:return t=r.sent,a=t.data,n=Object(m.a)({},a,{isAdministrator:a.is_admin,creationDate:q()(a.creation_date)}),r.next=8,Object(Q.d)({type:E.AUTHENTICATION_UPDATE_DETAILS.SUCCESS,user:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(Q.d)({type:E.AUTHENTICATION_UPDATE_DETAILS.FAILURE,message:r.t0.message||r.t0});case 14:case"end":return r.stop()}}),se,null,[[0,10]])}function be(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(E.AUTHENTICATION_UPDATE_DETAILS.REQUEST,fe);case 2:case"end":return e.stop()}}),ue)}function he(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.a)([Object(Q.c)(Ee),Object(Q.c)(ge),Object(Q.c)(be)]);case 2:case"end":return e.stop()}}),me)}var Te=he;function Oe(){return J.get("/location/",{headers:{Authorization:"token ".concat(ee())}})}function Se(e){var t=e.id,a=e.name,n=e.description,r=e.maximumCapacity,c=e.openingTime,o=e.closingTime,i=e.logo,l=e.latitude,s=e.longitude;return J.post("/location/",{id:t,name:a,description:n,maximum_capacity:r,logo:i,latitude:l,longitude:s,opening_time:c,closing_time:o},{headers:{Authorization:"token ".concat(ee())}})}var ve=W.a.mark(Ie),xe=W.a.mark(Ae),ye=W.a.mark(Re),Ce=W.a.mark(Ne),je=W.a.mark(_e);function Ie(){var e,t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(Oe);case 3:return e=a.sent,t=e.data,a.next=7,Object(Q.d)({type:v.LOCATIONS_GET.SUCCESS,locations:t.map((function(e){return Object(m.a)({},e,{currentCapacity:e.current_capacity,maximumCapacity:e.maximum_capacity,openingTime:q()(e.opening_time),closingTime:q()(e.closing_time),createdAt:q()(e.created_at),createdBy:e.created_by})}))});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Q.d)({type:v.LOCATIONS_GET.FAILURE,message:a.t0.message||a.t0});case 13:case"end":return a.stop()}}),ve,null,[[0,9]])}function Ae(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(v.LOCATIONS_GET.REQUEST,Ie);case 2:case"end":return e.stop()}}),xe)}function Re(e){var t,a,n;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Q.b)(Se,Object(m.a)({},e));case 3:return t=r.sent,a=t.data,n=Object(m.a)({},a,{currentCapacity:a.current_capacity,maximumCapacity:a.maximum_capacity,openingTime:q()(a.opening_time),closingTime:q()(a.closing_time),createdAt:q()(a.created_at),createdBy:a.created_by}),r.next=8,Object(Q.d)({type:v.LOCATIONS_CREATE.SUCCESS,location:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(Q.d)({type:v.LOCATIONS_CREATE.FAILURE,message:r.t0.response.data||r.t0.message||r.t0});case 14:case"end":return r.stop()}}),ye,null,[[0,10]])}function Ne(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(v.LOCATIONS_CREATE.REQUEST,Re);case 2:case"end":return e.stop()}}),Ce)}function _e(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[Ae,Ne],t.next=3,Object(Q.a)(e.map(Q.c));case 3:case"end":return t.stop()}}),je)}var ke=_e;function we(){return J.get("/contagion/risk/",{headers:{Authorization:"token ".concat(ee())}})}var Ue=W.a.mark(De),Le=W.a.mark(Ge),Pe=W.a.mark(Fe);function De(){var e,t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(we);case 3:return e=a.sent,t=e.data,a.next=7,Object(Q.d)({type:D.NOTIFICATIONS_GET.SUCCESS,notifications:t.map((function(e){return Object(m.a)({},e)}))});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Q.d)({type:D.NOTIFICATIONS_GET.FAILURE,message:a.t0.message||a.t0});case 13:case"end":return a.stop()}}),Ue,null,[[0,9]])}function Ge(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(D.NOTIFICATIONS_GET.REQUEST,De);case 2:case"end":return e.stop()}}),Le)}function Fe(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[Ge],t.next=3,Object(Q.a)(e.map(Q.c));case 3:case"end":return t.stop()}}),Pe)}var He=Fe;function Me(){return J.get("/registry/",{headers:{Authorization:"token ".concat(ee())}})}function Be(e){var t=e.locationId;return J.post("/registry/",{included_in:t},{headers:{Authorization:"token ".concat(ee())}})}var We=W.a.mark(Ve),Qe=W.a.mark(Je),ze=W.a.mark(Ze),qe=W.a.mark(Xe),Ye=W.a.mark($e);function Ve(){var e,t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(Me);case 3:return e=a.sent,t=e.data,a.next=7,Object(Q.d)({type:I.REGISTRIES_GET.SUCCESS,registries:t.map((function(e){return Object(m.a)({},e,{customerName:e.registered_by_name,locationName:e.included_in_name,entranceTime:q()(e.entrance_time),exitTime:q()(e.exit_time)})}))});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Q.d)({type:I.REGISTRIES_GET.FAILURE,message:a.t0.message||a.t0});case 13:case"end":return a.stop()}}),We,null,[[0,9]])}function Je(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(I.REGISTRIES_GET.REQUEST,Ve);case 2:case"end":return e.stop()}}),Qe)}function Ze(e){var t,a;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Q.b)(Be,Object(m.a)({},e));case 3:return n.next=5,Object(Q.b)(Me);case 5:return t=n.sent,a=t.data,n.next=9,Object(Q.d)({type:I.REGISTRIES_CREATE.SUCCESS,registries:a.map((function(e){return Object(m.a)({},e,{customerName:e.registered_by_name,locationName:e.included_in_name,entranceTime:q()(e.entrance_time),exitTime:q()(e.exit_time)})}))});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Q.d)({type:I.REGISTRIES_CREATE.FAILURE,message:n.t0.response.data||n.t0.message||n.t0});case 15:case"end":return n.stop()}}),ze,null,[[0,11]])}function Xe(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(I.REGISTRIES_CREATE.REQUEST,Ze);case 2:case"end":return e.stop()}}),qe)}function $e(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[Je,Xe],t.next=3,Object(Q.a)(e.map(Q.c));case 3:case"end":return t.stop()}}),Ye)}var Ke=$e,et=W.a.mark(ct),tt=W.a.mark(ot),at=W.a.mark(it),nt=W.a.mark(lt),rt=W.a.mark(st);function ct(){var e,t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(ne);case 3:return e=a.sent,t=e.data,a.next=7,Object(Q.d)({type:h.USERS_GET.SUCCESS,users:t.map((function(e){return Object(m.a)({},e,{isAdministrator:e.is_admin,createdAt:q()(e.creation_date)})}))});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Q.d)({type:h.USERS_GET.FAILURE,message:a.t0.message||a.t0});case 13:case"end":return a.stop()}}),et,null,[[0,9]])}function ot(){var e,t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(ne);case 3:return e=a.sent,t=e.data,a.next=7,Object(Q.d)({type:h.USERS_REFRESH.SUCCESS,users:t.map((function(e){return Object(m.a)({},e,{isAdministrator:e.is_admin,createdAt:q()(e.creation_date)})}))});case 7:return a.next=9,Object(Q.d)({type:E.AUTHENTICATION_REFRESH,users:t});case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(0),a.next=15,Object(Q.d)({type:h.USERS_REFRESH.FAILURE,message:a.t0.message||a.t0});case 15:case"end":return a.stop()}}),tt,null,[[0,11]])}function it(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(h.USERS_GET.REQUEST,ct);case 2:case"end":return e.stop()}}),at)}function lt(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(h.USERS_REFRESH.REQUEST,ot);case 2:case"end":return e.stop()}}),nt)}function st(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[it,lt],t.next=3,Object(Q.a)(e.map(Q.c));case 3:case"end":return t.stop()}}),rt)}var ut=st;function mt(){return J.get("/test/",{headers:{Authorization:"token ".concat(ee())}})}function pt(e){var t=e.dateTaken,a=e.isPositive;return J.post("/test/",{date_taken:t,is_positive:a},{headers:{Authorization:"token ".concat(ee())}})}var Et=W.a.mark(ht),dt=W.a.mark(Tt),gt=W.a.mark(Ot),ft=W.a.mark(St),bt=W.a.mark(vt);function ht(){var e,t;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Q.b)(mt);case 3:return e=a.sent,t=e.data,a.next=7,Object(Q.d)({type:k.TESTS_GET.SUCCESS,tests:t.map((function(e){return Object(m.a)({},e,{dateTaken:q()(e.date_taken),isPositive:e.is_positive,takenBy:e.taken_by_name})}))});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(Q.d)({type:k.TESTS_GET.FAILURE,message:a.t0.message||a.t0});case 13:case"end":return a.stop()}}),Et,null,[[0,9]])}function Tt(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(k.TESTS_GET.REQUEST,ht);case 2:case"end":return e.stop()}}),dt)}function Ot(e){var t,a,n;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Q.b)(pt,Object(m.a)({},e));case 3:return t=r.sent,a=t.data,n=Object(m.a)({},a,{dateTaken:q()(a.date_taken),isPositive:a.is_positive,takenBy:a.taken_by_name}),r.next=8,Object(Q.d)({type:k.TESTS_LOAD.SUCCESS,test:n});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(Q.d)({type:k.TESTS_LOAD.FAILURE,message:"string"===typeof r.t0.response.data?r.t0.response.data:r.t0.request.response||r.t0.message||r.t0});case 14:case"end":return r.stop()}}),gt,null,[[0,10]])}function St(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Q.e)(k.TESTS_LOAD.REQUEST,Ot);case 2:case"end":return e.stop()}}),ft)}function vt(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[Tt,St],t.next=3,Object(Q.a)(e.map(Q.c));case 3:case"end":return t.stop()}}),bt)}var xt=vt,yt=W.a.mark(Ct);function Ct(){var e;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[Te,ke,He,Ke,ut,xt].map(Q.c),t.next=3,Object(Q.a)(e);case 3:case"end":return t.stop()}}),yt)}var jt=Ct,It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:1e3})||s.d,At=Object(u.a)(),Rt=Object(s.e)(M(),It(Object(s.a)(At)));At.run(jt);var Nt=Rt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(460);var _t=a(22),kt=a(751),wt=a(713),Ut=a(715),Lt=Object(wt.a)((function(){return Object(Ut.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),Pt=function(){return Lt(),null},Dt=a(99);Dt.Chart.helpers.extend(Dt.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,n,r,c,o,i,l=this._chart.ctx,s=this._view,u=s.borderWidth,m=this._chart.config.options.cornerRadius;if(m<0&&(m=0),"undefined"===typeof m&&(m=0),s.horizontal?(e=s.base,t=s.x,a=s.y-s.height/2,n=s.y+s.height/2,r=t>e?1:-1,c=1,o=s.borderSkipped||"left"):(e=s.x-s.width/2,t=s.x+s.width/2,a=s.y,r=1,c=(n=s.base)>a?1:-1,o=s.borderSkipped||"bottom"),u){var p=Math.min(Math.abs(e-t),Math.abs(a-n)),E=(u=u>p?p:u)/2,d=e+("left"!==o?E*r:0),g=t+("right"!==o?-E*r:0),f=a+("top"!==o?E*c:0),b=n+("bottom"!==o?-E*c:0);d!==g&&(a=f,n=b),f!==b&&(e=d,t=g)}l.beginPath(),l.fillStyle=s.backgroundColor,l.strokeStyle=s.borderColor,l.lineWidth=u;var h=[[e,n],[e,a],[t,a],[t,n]],T=["bottom","left","top","right"].indexOf(o,0);function O(e){return h[(T+e)%4]}-1===T&&(T=0);var S=O(0);l.moveTo(S[0],S[1]);for(var v=1;v<4;v+=1){S=O(v);var x=v+1;4===x&&(x=0);var y=h[2][0]-h[1][0],C=h[0][1]-h[1][1],j=h[1][0],I=h[1][1];if((i=m)>Math.abs(C)/2&&(i=Math.floor(Math.abs(C)/2)),i>Math.abs(y)/2&&(i=Math.floor(Math.abs(y)/2)),C<0){var A=j,R=j+y,N=I+C,_=I+C,k=j,w=j+y,U=I,L=I;l.moveTo(k+i,U),l.lineTo(w-i,L),l.quadraticCurveTo(w,L,w,L-i),l.lineTo(R,_+i),l.quadraticCurveTo(R,_,R-i,_),l.lineTo(A+i,N),l.quadraticCurveTo(A,N,A,N+i),l.lineTo(k,U-i),l.quadraticCurveTo(k,U,k+i,U)}else if(y<0){var P=j+y,D=j,G=I,F=I,H=j+y,M=j,B=I+C,W=I+C;l.moveTo(H+i,B),l.lineTo(M-i,W),l.quadraticCurveTo(M,W,M,W-i),l.lineTo(D,F+i),l.quadraticCurveTo(D,F,D-i,F),l.lineTo(P+i,G),l.quadraticCurveTo(P,G,P,G+i),l.lineTo(H,B-i),l.quadraticCurveTo(H,B,H+i,B)}else l.moveTo(j+i,I),l.lineTo(j+y-i,I),l.quadraticCurveTo(j+y,I,j+y,I+i),l.lineTo(j+y,I+C-i),l.quadraticCurveTo(j+y,I+C,j+y-i,I+C),l.lineTo(j+i,I+C),l.quadraticCurveTo(j,I+C,j,I+C-i),l.lineTo(j,I+i),l.quadraticCurveTo(j,I,j+i,I)}l.fill(),u&&l.stroke()}});var Gt=a(424),Ft=a(15),Ht=Object(Gt.a)({palette:{background:{dark:"#F4F6F8",default:Ft.a.common.white,paper:Ft.a.common.white},primary:{main:Ft.a.orange[300]},secondary:{main:Ft.a.yellow[200]},text:{primary:Ft.a.grey[900],secondary:Ft.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),Mt=a(18),Bt=a(63),Wt=a(758),Qt=a(104),zt=a(722),qt=a(691),Yt=a(757),Vt=a(724),Jt=a(717),Zt=a(718),Xt=a(719),$t=a(720),Kt=a(392),ea=a.n(Kt),ta=a(393),aa=a.n(ta),na=a(394),ra=a.n(na),ca=a(391),oa=a.n(ca),ia=a(35),la=a(3),sa=a(689),ua=a(716),ma=Object(wt.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),pa=function(e){var t=e.className,a=e.href,n=e.icon,c=e.title,o=Object(ia.a)(e,["className","href","icon","title"]),i=ma();return r.a.createElement(sa.a,Object.assign({className:Object(la.a)(i.item,t),disableGutters:!0},o),r.a.createElement(ua.a,{activeClassName:i.active,className:i.button,component:l.c,to:a},n&&r.a.createElement(n,{className:i.icon,size:"20"}),r.a.createElement("span",{className:i.title},c)))},Ea=[{href:"/app/dashboard",icon:Jt.a,title:"Dashboard",requiresAdminPrivilege:!0},{href:"/app/users",icon:Zt.a,title:"Users",requiresAdminPrivilege:!0},{href:"/app/notifications",icon:Xt.a,title:"Notifications"},{href:"/app/locations",icon:ea.a,title:"Locations"},{href:"/app/registry",icon:aa.a,title:"Registry"},{href:"/app/tests",icon:ra.a,title:"Tests"},{href:"/app/settings",icon:$t.a,title:"Settings"}],da=Object(wt.a)((function(e){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{width:64,height:64},healthStatus:{marginTop:"5px",padding:"5px",backgroundColor:e.palette.primary.light}}})),ga=function(e){return{accessoriesType:"Healthy"!==e.status?null:e.isAdministrator?"Wayfarers":null,eyeType:"COVID Positive"===e.status?"Dizzy":"Contagion Risk"===e.status?"Surprised":"Default",mouthType:"COVID Positive"===e.status?"Vomit":"Contagion Risk"===e.status?"Concerned":"Smile"}},fa=function(e){var t=da(),a=e.onMobileClose,c=e.openMobile,o=e.user,i=Object(_t.f)();Object(n.useEffect)((function(){c&&a&&a()}),[i.pathname]);var l=r.a.createElement(Wt.a,{height:"100%",display:"flex",flexDirection:"column"},r.a.createElement(Wt.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2},r.a.createElement(oa.a,{style:{width:"70px",height:"70px"},avatarStyle:"Transparent",topType:"ShortHairShortCurly",accessoriesType:ga(o).accessoriesType,hairColor:"BrownDark",clotheType:"ShirtVNeck",clotheColor:"Black",eyeType:ga(o).eyeType,eyebrowType:"Default",mouthType:ga(o).mouthType,skinColor:"Light"}),r.a.createElement(Qt.a,{className:t.name,color:"textPrimary",variant:"h5"},o.name),r.a.createElement(Qt.a,{color:"textSecondary",variant:"body2"},o.email),r.a.createElement(Qt.a,{color:"textSecondary",variant:"body2",className:t.healthStatus},o.status)),r.a.createElement(zt.a,null),r.a.createElement(Wt.a,{p:2},r.a.createElement(qt.a,null,Ea.filter((function(e){return!e.requiresAdminPrivilege||e.requiresAdminPrivilege===o.isAdministrator})).map((function(e){return r.a.createElement(pa,{href:e.href,key:e.title,title:e.title,icon:e.icon})})))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt.a,{mdUp:!0},r.a.createElement(Vt.a,{anchor:"left",classes:{paper:t.mobileDrawer},onClose:a,open:c,variant:"temporary"},l)),r.a.createElement(Yt.a,{smDown:!0},r.a.createElement(Vt.a,{anchor:"left",classes:{paper:t.desktopDrawer},open:!0,variant:"persistent"},l)))};fa.defaultProps={openMobile:!1};var ba=fa,ha=a(740),Ta=a(736),Oa=a(695),Sa=a(742),va=a(410),xa=a.n(va),ya=a(408),Ca=a.n(ya),ja=a(409),Ia=a.n(ja),Aa=a(406),Ra=a.n(Aa),Na=a(405),_a=a.n(Na),ka=a(407),wa=a.n(ka),Ua=function(e){return r.a.createElement("div",null,r.a.createElement("img",Object.assign({title:"#YoEstuveAh\xed",alt:"Logo",src:"/static/logo.svg"},e)))},La=a(741),Pa=a(726),Da=a(727),Ga=a(731),Fa=a(423),Ha=a(40),Ma=a(753),Ba=a(728),Wa=a(729),Qa=a(696),za=a(730),qa=a(754),Ya=a(739),Va=a(263),Ja=a(395),Za=a.n(Ja);function Xa(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var $a=Object(wt.a)((function(e){return{action:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"20px",backgroundColor:e.palette.primary.light},title:{lineHeight:"1.33",fontSize:"24px",letterSpacing:"0.95px"},container:{width:"500px",maxWidth:"85%",position:"absolute",outline:0,backgroundColor:"white"}}})),Ka=function(e){var t=e.children,a=e.onClose,c=e.open,o=e.title,i=$a(),l=Object(n.useState)(Xa),s=Object(Mt.a)(l,1)[0],u=Object(n.useState)(c),m=Object(Mt.a)(u,2),p=m[0],E=m[1];Object(n.useEffect)((function(){E(c)}),[c]);var d=function(){E(!1),a()};return r.a.createElement(Va.a,{open:p,onClose:d,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("div",{style:s,className:i.container},r.a.createElement(r.a.Fragment,null,o&&r.a.createElement("div",{className:i.action},r.a.createElement(Qt.a,{className:i.title,color:"textPrimary",variant:"h3"},o),r.a.createElement(Oa.a,{color:"inherit",onClick:d},r.a.createElement(Za.a,null))),t)))},en=Object(wt.a)((function(e){return{container:{backgroundColor:e.palette.primary.light},body:{width:"100%",alignItems:"center","&>div":{marginBottom:"15px"}}}})),tn=Object(i.b)((function(e){return{tests:e.tests.list,loading:e.tests.loading,error:e.tests.error}}),(function(e){return{loadTest:function(t){return e(L(t))},resetTests:function(){return e(U())},refreshUsers:function(){return e(O())}}}))((function(e){var t=e.onClose,a=e.open,c=e.loadTest,o=e.resetTests,i=e.refreshUsers,l=e.error,s=e.tests,u=e.loading,m=en(),p=Object(n.useState)(q()().toISOString()),E=Object(Mt.a)(p,2),d=E[0],g=E[1],f=Object(n.useState)(!1),b=Object(Mt.a)(f,2),h=b[0],T=b[1];return Object(n.useEffect)((function(){l||u||(o(),i(),t())}),[l,u,s]),r.a.createElement(Ka,{title:"Load Test Result",open:a,onClose:t},r.a.createElement("div",{className:m.container},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c({dateTaken:d,isPositive:h})}},r.a.createElement(Pa.a,null,r.a.createElement(Da.a,null,r.a.createElement(Qa.a,{component:"fieldset",className:m.body},r.a.createElement(Ba.a,{"aria-label":"position",row:!0},r.a.createElement(Wa.a,{value:"start",control:r.a.createElement(Qt.a,{component:"div"},r.a.createElement(za.a,{component:"label",container:!0,alignItems:"center",spacing:1},r.a.createElement(za.a,{item:!0},"Negative"),r.a.createElement(za.a,{item:!0},r.a.createElement(Ga.a,{color:"primary",checked:h,onChange:function(){return T(!h)}})),r.a.createElement(za.a,{item:!0},"Positive"))),label:"Test Result",labelPlacement:"top"})),r.a.createElement(Ba.a,{"aria-label":"position",row:!0},r.a.createElement(Ha.a,{utils:Fa.a},r.a.createElement(Ma.a,{margin:"normal",id:"date-picker-dialog",label:"Test Taken On",format:"dd/MM/yyyy",value:d,onChange:g,disableFuture:!0,KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(zt.a,null),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt.a,{p:2,alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(qa.a,{className:m.fullWidth,severity:"error"},r.a.createElement(Ya.a,null,"Error"),l)),r.a.createElement(zt.a,null)),r.a.createElement(Wt.a,{p:2,display:"flex",flexDirection:"row",justifyContent:"space-around"},r.a.createElement(ua.a,{color:"secondary",variant:"contained",onClick:t},"Cancel"),r.a.createElement(ua.a,{color:"primary",variant:"contained",type:"submit"},"Load"))))))})),an=a(426),nn=a(759),rn=a(399),cn=a.n(rn),on=a(400),ln=a.n(on),sn=Object(wt.a)((function(e){return{root:{display:"flex",flexDirection:"column"},statsItem:{alignItems:"center",display:"flex"},statsIcon:{marginRight:e.spacing(1)},large:{width:e.spacing(8),height:e.spacing(8)}}})),un=function(e){var t=e.className,a=e.location,n=Object(ia.a)(e,["className","location"]),c=sn();return r.a.createElement(Pa.a,Object.assign({className:Object(la.a)(c.root,t)},n),r.a.createElement(Da.a,null,r.a.createElement(Wt.a,{display:"flex",justifyContent:"center",mb:2},r.a.createElement(nn.a,{alt:"Product",src:a.logo,className:c.large,variant:"circle"})),r.a.createElement(Qt.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4"},a.name),r.a.createElement(Qt.a,{align:"center",color:"textPrimary",variant:"body1"},a.description)),r.a.createElement(Wt.a,{flexGrow:1}),r.a.createElement(zt.a,null),r.a.createElement(Wt.a,{p:1},r.a.createElement(za.a,{container:!0,justify:"center",spacing:2},r.a.createElement(za.a,{className:c.statsItem,item:!0},r.a.createElement(cn.a,{className:c.statsIcon,color:"action"}),r.a.createElement(Qt.a,{color:"textSecondary",display:"inline",variant:"body2"},"Last update at ".concat(q()(a.createdAt).format("MMMM D, YYYY HH:mm")))),r.a.createElement(za.a,{className:c.statsItem,item:!0},r.a.createElement(ln.a,{className:c.statsIcon,color:"action"}),r.a.createElement(Qt.a,{color:"textSecondary",display:"inline",variant:"body2"},a.maximumCapacity," people allowed inside")))))},mn=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},scanAgain:{marginRight:e.spacing(1)},container:{padding:"20px"}}})),pn=Object(i.b)((function(e){return{locations:e.locations.list,registries:e.registries.list}}),(function(e){return{createRegistry:function(t){return e(N(t))},resetRegistries:function(){return e(R())},getLocations:function(){return e(x())}}}))((function(e){var t=e.onClose,a=e.open,c=e.createRegistry,o=e.resetRegistries,i=e.error,l=e.getLocations,s=e.locations,u=e.registries,m=e.loading,p=mn(),E=Object(n.useState)(100),d=Object(Mt.a)(E,1)[0],g=Object(n.useState)(null),f=Object(Mt.a)(g,2),b=f[0],h=f[1],T=function(){h(null),o(),l(),t()};Object(n.useEffect)((function(){l()}),[l]);return Object(n.useEffect)((function(){i||m||T()}),[i,m,u]),r.a.createElement(Ka,{title:"Scan a QR code",open:a,onClose:T},r.a.createElement("div",{className:p.container},b?r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(un,{location:b})),r.a.createElement(Wt.a,{p:2,display:"flex",flexDirection:"row",justifyContent:"center"},r.a.createElement(ua.a,{className:p.scanAgain,color:"secondary",variant:"contained",onClick:function(){return h(null)}},"Scan Again"),r.a.createElement(ua.a,{color:"primary",variant:"contained",onClick:function(){c({locationId:b.id})}},"Check in"))):r.a.createElement(Pa.a,null,r.a.createElement(Da.a,null,r.a.createElement(Wt.a,{position:"relative"},r.a.createElement(an.a,{delay:d,onScan:function(e){e&&h(s.find((function(t){return t.id===parseInt(e,10)})))},onError:function(){},style:{width:"100%"}}))))))})),En=a(206),dn=a(737),gn=a(49),fn=a(131),bn=a(258),hn=a.n(bn),Tn=Object(wt.a)({suggestion:{lineHeight:"1.33",letterSpacing:"0.95px",cursor:"pointer",padding:"5px 0","&:hover":{backgroundColor:Ht.palette.secondary.light}}}),On=function(e){var t=Tn(),a=e.onSelectedAddress,c=e.className,o=Object(n.useState)(""),i=Object(Mt.a)(o,2),l=i[0],s=i[1],u=function(){var e=Object(En.a)(W.a.mark((function e(t){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t),Object(bn.geocodeByAddress)(t).then((function(e){a(t,e[0])})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(hn.a,{value:l,onChange:function(e){s(e)},onSelect:u,shouldFetchSuggestions:l.length>3,searchOptions:{componentRestrictions:{country:"ar"}},highlightFirstSuggestion:!0},(function(e){var a=e.getInputProps,n=e.suggestions,o=e.getSuggestionItemProps;return r.a.createElement("div",{className:c},r.a.createElement(dn.a,Object.assign({fullWidth:!0,label:"Search for a location",margin:"normal",name:"location",type:"text",className:Object(la.a)("location-search-input"),variant:"outlined"},a())),r.a.createElement("div",{className:"autocomplete-dropdown-container"},n.map((function(e){return r.a.createElement("div",Object.assign({key:e.placeId},o(e,{})),r.a.createElement(Qt.a,{className:t.suggestion,variant:"h5"},e.description))}))))}))};var Sn=function(e){var t={place_id:e,key:"AIzaSyD6skzjvRlZwqCFrPQ6n6FyHJpEQV1CslI",fields:"photos"};return Z.get("/maps/api/place/details/json",{params:t})},vn=Object(wt.a)((function(){return{fullWidth:{width:"100%",height:"inherit",maxHeight:"30vh"}}})),xn=Object(i.b)((function(e){return{locations:e.locations.list,loading:e.locations.loading,error:e.locations.error}}),(function(e){return{createLocation:function(t){return e(C(t))},resetLocations:function(){return e(y())}}}))((function(e){var t=e.onClose,a=e.open,c=e.createLocation,o=e.resetLocations,i=e.error,l=e.locations,s=e.loading,u=Object(n.useState)(null),p=Object(Mt.a)(u,2),E=p[0],d=p[1],g=Object(n.useState)({index:0,list:[]}),f=Object(Mt.a)(g,2),b=f[0],h=f[1],T=vn(),O=function(){h({index:0,list:[]}),o(),t()},S=function(){var e=Object(En.a)(W.a.mark((function e(t){var a,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sn(t.place_id);case 3:a=e.sent,n=a.data,h({index:0,list:n.result.photos||[]}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=b.list.length>0?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;return"".concat("https://maps.googleapis.com/","maps/api/place/photo?maxwidth=").concat(t,"&photoreference=").concat(e,"&key=").concat("AIzaSyD6skzjvRlZwqCFrPQ6n6FyHJpEQV1CslI")}(b.list[b.index].photo_reference):"";return Object(n.useEffect)((function(){E&&(h({index:0,list:[]}),S(E))}),[E]),Object(n.useEffect)((function(){i||s||O()}),[i,s,l]),r.a.createElement(Ka,{title:"Add a new location",open:a,onClose:O},r.a.createElement(Pa.a,null,r.a.createElement(Da.a,null,r.a.createElement(Wt.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(On,{className:T.fullWidth,onSelectedAddress:function(e,t){return d(Object(m.a)({},t,{name:e}))}})),b.list.length>1&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Wt.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(fn.a,{initialValues:{name:E.name.split(",")[0],description:E.formatted_address,maximumCapacity:"",openingTime:"9:00",closingTime:"18:00"},validationSchema:gn.b().shape({name:gn.c().max(255).required("Name is required"),description:gn.c().max(255).required("Description is required"),maximumCapacity:gn.a().integer().min(1).required("Maximum capacity is required"),openingTime:gn.c().required("Opening time is required"),closingTime:gn.c().required("Closing time is required")}),onSubmit:function(e){return function(e,t){c({id:E.place_id,name:e.name,description:e.description,latitude:E.geometry.location.lat(),longitude:E.geometry.location.lng(),maximumCapacity:e.maximumCapacity,openingTime:e.openingTime,closingTime:e.closingTime,logo:t})}(e,v)}},(function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.handleSubmit,o=e.touched,i=e.values;return r.a.createElement("form",{id:"create-location",onSubmit:c,className:T.fullWidth},r.a.createElement(dn.a,{error:Boolean(o.name&&t.name),fullWidth:!0,helperText:o.name&&t.name,label:"Name",margin:"normal",name:"name",onBlur:a,onChange:n,value:i.name,variant:"outlined"}),r.a.createElement(dn.a,{error:Boolean(o.description&&t.description),fullWidth:!0,helperText:o.description&&t.description,label:"Description",margin:"normal",name:"description",onBlur:a,onChange:n,value:i.description,variant:"outlined"}),r.a.createElement(dn.a,{error:Boolean(o.maximumCapacity&&t.maximumCapacity),fullWidth:!0,helperText:o.maximumCapacity&&t.maximumCapacity,label:"Maximum Capacity",margin:"normal",name:"maximumCapacity",onBlur:a,onChange:n,value:i.maximumCapacity,variant:"outlined"}))}))),r.a.createElement(Wt.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(nn.a,{className:T.fullWidth,alt:"Place",src:v,variant:"rounded"}))),i&&r.a.createElement(Wt.a,{p:2,alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(qa.a,{className:T.fullWidth,severity:"error"},r.a.createElement(Ya.a,null,"Error"),i)),r.a.createElement(Wt.a,{p:2,display:"flex",flexDirection:"row",justifyContent:"space-evenly"},b.list.length>1&&r.a.createElement(ua.a,{className:T.scanAgain,color:"secondary",variant:"contained",disabled:0===b.list.length,onClick:function(){return h({index:(b.index+1)%b.list.length,list:b.list})}},"Change image"),r.a.createElement(ua.a,{color:"primary",variant:"contained",disabled:0===b.list.length,form:"create-location",type:"submit"},"Create location")))))})),yn=Object(wt.a)((function(){return{title:{display:"flex",alignItems:"center","& > h3":{marginLeft:"24px"}}}})),Cn=function(e){var t=e.className,a=e.onMobileNavOpen,c=e.user,o=Object(ia.a)(e,["className","onMobileNavOpen","user"]),i=yn(),s=Object(_t.g)(),u=Object(n.useState)(!1),m=Object(Mt.a)(u,2),p=m[0],E=m[1],d=Object(n.useState)(!1),g=Object(Mt.a)(d,2),f=g[0],b=g[1],h=Object(n.useState)(!1),T=Object(Mt.a)(h,2),O=T[0],S=T[1],v=Object(n.useState)([].filter((function(e){return!e.shown}))),x=Object(Mt.a)(v,1)[0];return r.a.createElement(ha.a,Object.assign({className:Object(la.a)(i.root,t),elevation:0},o),r.a.createElement(Ta.a,null,r.a.createElement(l.b,{to:"/app/dashboard"},r.a.createElement("div",{className:i.title},r.a.createElement(Ua,null),r.a.createElement(Yt.a,{xsDown:!0},r.a.createElement(Qt.a,{align:"center",color:"textPrimary",variant:"h3"},"Yo Estuve Ah\xed App")))),r.a.createElement(Wt.a,{flexGrow:1}),r.a.createElement(r.a.Fragment,null,r.a.createElement(La.a,{title:"Load Test Result"},r.a.createElement(Oa.a,{color:"inherit",onClick:function(){E(!0)}},r.a.createElement(_a.a,null))),"COVID Positive"!==c.status&&r.a.createElement(La.a,{title:"Scan a QR Code"},r.a.createElement(Oa.a,{color:"inherit",onClick:function(){b(!0)}},r.a.createElement(Ra.a,null))),r.a.createElement(La.a,{title:"Add Location"},r.a.createElement(Oa.a,{color:"inherit",onClick:function(){S(!0)}},r.a.createElement(wa.a,null))),r.a.createElement(La.a,{title:"You have ".concat(x.length," pending notification").concat(x.length>1?"s":"")},r.a.createElement(Oa.a,{color:"inherit",onClick:function(){s("/app/notifications",{replace:!0})}},r.a.createElement(Sa.a,{badgeContent:x.length,color:"secondary"},r.a.createElement(Ca.a,null)))),r.a.createElement(La.a,{title:"Log out"},r.a.createElement(Oa.a,{color:"inherit",onClick:function(){s("/logout",{replace:!0})}},r.a.createElement(Ia.a,null)))),r.a.createElement(Yt.a,{mdUp:!0},r.a.createElement(Oa.a,{color:"inherit",onClick:a},r.a.createElement(xa.a,null)))),r.a.createElement(tn,{open:p,onClose:function(){return E(!1)}}),r.a.createElement(pn,{open:f,onClose:function(){return b(!1)}}),r.a.createElement(xn,{open:O,customer:c,onClose:function(){return S(!1)}}))},jn=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(Bt.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("md"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),In=Object(i.b)((function(e){return{user:e.authentication.user}}),null)((function(e){var t=jn(),a=e.user,c=Object(n.useState)(!1),o=Object(Mt.a)(c,2),i=o[0],l=o[1];return r.a.createElement("div",{className:t.root},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Cn,{user:a,onMobileNavOpen:function(){return l(!0)}}),r.a.createElement(ba,{user:a,onMobileClose:function(){return l(!1)},openMobile:i})),r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.contentContainer},r.a.createElement("div",{className:t.content},r.a.createElement(_t.b,null)))))})),An=Object(wt.a)({root:{},toolbar:{height:64},title:{display:"flex",alignItems:"center","& > h3":{marginLeft:"24px"}}}),Rn=function(e){var t=e.className,a=Object(ia.a)(e,["className"]),n=An();return r.a.createElement(ha.a,Object.assign({className:Object(la.a)(n.root,t),elevation:0},a),r.a.createElement(Ta.a,{className:n.toolbar},r.a.createElement("div",{className:n.title},r.a.createElement(Ua,null),r.a.createElement(Qt.a,{align:"center",color:"textPrimary",variant:"h3"},"Yo Estuve Ah\xed App"))))},Nn=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),_n=function(){var e=Nn();return r.a.createElement("div",{className:e.root},r.a.createElement(Rn,null),r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contentContainer},r.a.createElement("div",{className:e.content},r.a.createElement(_t.b,null)))))},kn=a(749),wn=a(411),Un=Object(n.forwardRef)((function(e,t){var a=e.children,n=e.title,c=void 0===n?"":n,o=Object(ia.a)(e,["children","title"]);return r.a.createElement("div",Object.assign({ref:t},o),r.a.createElement(wn.a,null,r.a.createElement("title",null,c)),a)})),Ln=a(57),Pn=a.n(Ln),Dn=a(743),Gn=a(744),Fn=a(745),Hn=a(746),Mn=a(747),Bn=a(755),Wn=a(414),Qn=a.n(Wn),zn=a(415),qn=a.n(zn),Yn=Object(wt.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),Vn=function(e){var t=e.className,a=e.users,c=Object(ia.a)(e,["className","users"]),o=Yn(),i=Object(n.useState)(10),l=Object(Mt.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(0),p=Object(Mt.a)(m,2),E=p[0],d=p[1];return r.a.createElement(Pa.a,Object.assign({className:Object(la.a)(o.root,t)},c),r.a.createElement(Pn.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Gn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Hn.a,null,"Name"),r.a.createElement(Hn.a,null,"Email"),r.a.createElement(Hn.a,null,"Status"),r.a.createElement(Hn.a,null,"Registration date"),r.a.createElement(Hn.a,null,"Administrator"))),r.a.createElement(Mn.a,null,a.slice(E*s,(E+1)*s).map((function(e){return r.a.createElement(Fn.a,{hover:!0,key:e.id},r.a.createElement(Hn.a,null,r.a.createElement(Qt.a,{color:"textPrimary",variant:"body1"},e.name)),r.a.createElement(Hn.a,null,e.email),r.a.createElement(Hn.a,null,e.status),r.a.createElement(Hn.a,null,e.createdAt&&e.createdAt.format("MMMM D, YYYY")),r.a.createElement(Hn.a,null,e.isAdministrator?r.a.createElement(Qn.a,null):r.a.createElement(qn.a,null)))})))))),r.a.createElement(Bn.a,{component:"div",count:a.length,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){u(e.target.value)},page:E,rowsPerPage:s,rowsPerPageOptions:[5,10,25]}))},Jn=function(){return r.a.createElement(Pa.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Gn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Hn.a,null,"Name"),r.a.createElement(Hn.a,null,"Email"),r.a.createElement(Hn.a,null,"Status"),r.a.createElement(Hn.a,null,"Registration date"))),r.a.createElement(Mn.a,null,r.a.createElement(Fn.a,{hover:!0},r.a.createElement(Hn.a,null,"No records found")))))))},Zn=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Xn=Object(i.b)((function(e){return{users:e.users.list}}),(function(e){return{getUsers:function(){return e(T())}}}))((function(e){var t=e.users,a=e.getUsers,c=Zn();return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Un,{className:c.root,title:"Customers"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(Wt.a,{mt:3},t.length>0?r.a.createElement(Vn,{users:t}):r.a.createElement(Jn,null))))})),$n=a(417),Kn=a.n($n),er=a(416),tr=a.n(er),ar=function(e){var t=e.className,a=e.notifications,c=Object(ia.a)(e,["className","notifications"]),o=Object(n.useState)(10),i=Object(Mt.a)(o,2),l=i[0],s=i[1],u=Object(n.useState)(0),m=Object(Mt.a)(u,2),p=m[0],E=m[1];return r.a.createElement(Pa.a,Object.assign({className:t},c),r.a.createElement(Pn.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Gn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Hn.a,null,"Created At"),r.a.createElement(Hn.a,null,"Source"),r.a.createElement(Hn.a,null,"Content"),r.a.createElement(Hn.a,null))),r.a.createElement(Mn.a,null,a.slice(p*l,(p+1)*l).map((function(e){return r.a.createElement(Fn.a,{hover:!0,key:e.id},r.a.createElement(Hn.a,null,e.createdAt.format("MMMM D, YYYY HH:mm")),r.a.createElement(Hn.a,null,e.contagionSource.name),r.a.createElement(Hn.a,null,e.content),r.a.createElement(Hn.a,null,e.shown?r.a.createElement(tr.a,null):r.a.createElement(Kn.a,null)))})))))),r.a.createElement(Bn.a,{component:"div",count:a.length,onChangePage:function(e,t){E(t)},onChangeRowsPerPage:function(e){s(e.target.value)},page:p,rowsPerPage:l,rowsPerPageOptions:[5,10,25]}))},nr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),rr=Object(i.b)((function(e){return{notifications:e.notifications.list}}),(function(e){return{getNotifications:function(){return e(G())}}}))((function(e){var t=e.notifications,a=e.getNotifications,c=nr();return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Un,{className:c.root,title:"Users"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(Wt.a,{mt:3},t.length>0?r.a.createElement(ar,{notifications:t}):r.a.createElement(Jn,null))))})),cr=a(29),or=a(750),ir=a(418),lr=a.n(ir),sr=a(419),ur=a.n(sr),mr=Object(wt.a)((function(){return{root:{}}})),pr=function(e){var t=e.className,a=Object(ia.a)(e,["className"]),n=mr(),c=Object(cr.a)(),o={datasets:[{backgroundColor:Ft.a.indigo[500],data:[18,5,19,27,29,19,20],label:"This year"},{backgroundColor:Ft.a.grey[200],data:[11,20,12,29,30,25,13],label:"Last year"}],labels:["1 Aug","2 Aug","3 Aug","4 Aug","5 Aug","6 Aug"]},i={animation:!1,cornerRadius:20,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:c.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:c.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:c.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:c.palette.divider}}]},tooltips:{backgroundColor:c.palette.background.default,bodyFontColor:c.palette.text.secondary,borderColor:c.palette.divider,borderWidth:1,enabled:!0,footerFontColor:c.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:c.palette.text.primary}};return r.a.createElement(Pa.a,Object.assign({className:Object(la.a)(n.root,t)},a),r.a.createElement(or.a,{action:r.a.createElement(ua.a,{endIcon:r.a.createElement(lr.a,null),size:"small",variant:"text"},"Last 7 days"),title:"Latest ContagionsByDate"}),r.a.createElement(zt.a,null),r.a.createElement(Da.a,null,r.a.createElement(Wt.a,{height:400,position:"relative"},r.a.createElement(Dt.Bar,{data:o,options:i}))),r.a.createElement(zt.a,null),r.a.createElement(Wt.a,{display:"flex",justifyContent:"flex-end",p:2},r.a.createElement(ua.a,{color:"primary",endIcon:r.a.createElement(ur.a,null),size:"small",variant:"text"},"Overview")))},Er=Object(wt.a)((function(){return{root:{height:"100%"}}})),dr=Object(i.b)((function(e){return{users:e.users.list}}),(function(e){return{getUsers:function(){return e(T())}}}))((function(e){var t=e.users,a=e.getUsers,c=Er(),o=Object(cr.a)(),i={Healthy:{title:"Healthy",value:0,color:Ft.a.indigo[500]},"COVID Positive":{title:"COVID Positive",value:0,color:Ft.a.red[600]},"Contagion Risk":{title:"Contagion Risk",value:0,color:Ft.a.orange[600]}};t.reduce((function(e,a){return e[a.status].value+=100/t.length,e}),i);var l={datasets:[{data:Object.values(i).map((function(e){return Math.round(e.value)})),backgroundColor:Object.values(i).map((function(e){return e.color})),borderWidth:8,borderColor:Ft.a.common.white,hoverBorderColor:Ft.a.common.white}],labels:Object.keys(i)},s={animation:!1,cutoutPercentage:80,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,tooltips:{backgroundColor:o.palette.background.default,bodyFontColor:o.palette.text.secondary,borderColor:o.palette.divider,borderWidth:1,enabled:!0,footerFontColor:o.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:o.palette.text.primary}};return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Pa.a,{className:c.root},r.a.createElement(or.a,{title:"Users by Status"}),r.a.createElement(zt.a,null),r.a.createElement(Da.a,null,r.a.createElement(Wt.a,{height:300,position:"relative"},r.a.createElement(Dt.Doughnut,{data:l,options:s})),r.a.createElement(Wt.a,{display:"flex",justifyContent:"center",mt:2},Object.values(i).map((function(e){var t=e.color,a=e.title,n=e.value;return r.a.createElement(Wt.a,{key:a,p:1,textAlign:"center"},r.a.createElement(Qt.a,{color:"textPrimary",variant:"body1"},a),r.a.createElement(Qt.a,{style:{color:t},variant:"h2"},Math.round(n),"%"))})))))})),gr=a(427),fr=a(421),br=a.n(fr),hr=a(261),Tr=a(215),Or=a.n(Tr),Sr=Object(hr.a)({marker:{width:"max-content",color:Ht.palette.secondary.light,textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black",fontWeight:"bolder",fontSize:"larger"},capacity:{width:"max-content",color:Ht.palette.primary.light,textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black",fontWeight:"bolder",fontSize:"larger",paddingBottom:"10px"}}),vr=function(e){var t=e.location,a=t.id,c=t.name,o=t.currentCapacity,i=t.maximumCapacity,l=Sr(),s=Object(n.useState)(!1),u=Object(Mt.a)(s,2),m=u[0],p=u[1],E=function(e){return p(e)};return r.a.createElement("div",{onMouseEnter:function(){E(!0)},onMouseLeave:function(){E(!1)}},r.a.createElement(br.a,{color:"primary",fontSize:"large"}),r.a.createElement("div",{className:l.marker},c),r.a.createElement("div",{className:l.capacity},"".concat(i-o," /  ").concat(i)),m&&r.a.createElement("div",null,r.a.createElement(Or.a,{value:String(a),size:100,renderAs:"svg"})))},xr=function(e){var t=e.markers,a={center:{lat:-34.58,lng:-58.44},zoom:13};return r.a.createElement("div",{style:{height:"40vh",width:"100%"}},r.a.createElement(gr.a,{bootstrapURLKeys:{key:"AIzaSyD6skzjvRlZwqCFrPQ6n6FyHJpEQV1CslI"},defaultCenter:a.center,defaultZoom:a.zoom},t.map((function(e){return r.a.createElement(vr,{key:e.id,lat:e.latitude,lng:e.longitude,location:e})}))))},yr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Cr=Object(i.b)((function(e){return{locations:e.locations.list}}),(function(e){return{getLocations:function(){return e(x())}}}))((function(e){var t=e.locations,a=e.getLocations,c=yr();return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Un,{className:c.root,title:"Dashboard"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(za.a,{container:!0,spacing:3},r.a.createElement(za.a,{item:!0,sm:12,md:12,lg:12,xl:12,xs:12},r.a.createElement(xr,{markers:t})),r.a.createElement(za.a,{item:!0,sm:12,md:6,lg:6,xl:6,xs:12},r.a.createElement(pr,null)),r.a.createElement(za.a,{item:!0,sm:12,md:6,lg:6,xl:6,xs:12},r.a.createElement(dr,null)))))})),jr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Ir=Object(i.b)((function(e){return{user:e.authentication.user,loggingIn:e.authentication.loggingIn,error:e.authentication.error}}),(function(e){return{login:function(t){return e(d(t))}}}))((function(e){var t=jr(),a=Object(_t.g)(),c=e.login,o=e.user,i=e.loggingIn,l=e.error;return Object(n.useEffect)((function(){o&&a("/app/dashboard",{replace:!0})}),[o,a]),r.a.createElement(Un,{className:t.root,title:"Login"},r.a.createElement(Wt.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(kn.a,{maxWidth:"sm"},r.a.createElement(fn.a,{initialValues:{email:"",password:""},validationSchema:gn.b().shape({email:gn.c().email("Must be a valid email").max(255).required("Email is required"),password:gn.c().max(255).required("Password is required")}),onSubmit:function(e){c(e)}},(function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,c=e.handleSubmit,o=e.touched,s=e.values;return r.a.createElement("form",{onSubmit:c},r.a.createElement(Wt.a,{mb:3},r.a.createElement(Qt.a,{color:"textPrimary",variant:"h2"},"Sign in"),r.a.createElement(Qt.a,{color:"textSecondary",gutterBottom:!0,variant:"body2"},"#YoEstuveAh\xed")),l&&r.a.createElement(qa.a,{severity:"error"},r.a.createElement(Ya.a,null,"Error"),l),r.a.createElement(Wt.a,{mt:3,mb:1}),r.a.createElement(dn.a,{error:Boolean(o.email&&t.email),fullWidth:!0,helperText:o.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:n,type:"email",value:s.email,variant:"outlined"}),r.a.createElement(dn.a,{error:Boolean(o.password&&t.password),fullWidth:!0,helperText:o.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:s.password,variant:"outlined"}),r.a.createElement(Wt.a,{my:2},r.a.createElement(ua.a,{color:"primary",disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Sign in")))})),r.a.createElement(Qt.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 Yo Estuve Ah\xed App ".concat((new Date).getFullYear())))))})),Ar=a(2),Rr=a.n(Ar),Nr=function(e){var t=Object(_t.g)(),a=e.logout,r=e.user;return Object(n.useEffect)((function(){a()}),[a]),Object(n.useEffect)((function(){r||($("user-auth-token"),t("/login",{replace:!0}))}),[r,t]),null};Nr.propTypes={logout:Rr.a.func.isRequired};var _r=Object(i.b)((function(e){return{user:e.authentication.user||null}}),(function(e){return{logout:function(){return e(g())}}}))(Nr),kr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),wr=function(){var e=kr();return r.a.createElement(Un,{className:e.root,title:"404"},r.a.createElement(Wt.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},r.a.createElement(kn.a,{maxWidth:"md"},r.a.createElement(Qt.a,{align:"center",color:"textPrimary",variant:"h1"},"404: The page you are looking for isn\u2019t here"),r.a.createElement(Qt.a,{align:"center",color:"textPrimary",variant:"subtitle2"},"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"),r.a.createElement(Wt.a,{textAlign:"center"},r.a.createElement("img",{alt:"Under development",className:e.image,src:"/static/images/undraw_page_not_found_su7k.svg"})))))},Ur=Object(wt.a)((function(e){return{root:{},avatar:{marginRight:e.spacing(2)}}})),Lr=function(e){var t=e.className,a=e.registries,c=Object(ia.a)(e,["className","registries"]),o=Ur(),i=Object(n.useState)(10),l=Object(Mt.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(0),p=Object(Mt.a)(m,2),E=p[0],d=p[1];return r.a.createElement(Pa.a,Object.assign({className:Object(la.a)(o.root,t)},c),r.a.createElement(Pn.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Gn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Hn.a,null,"User"),r.a.createElement(Hn.a,null,"Location"),r.a.createElement(Hn.a,null,"Entered at"),r.a.createElement(Hn.a,null,"Exited at"))),r.a.createElement(Mn.a,null,a.slice(E*s,(E+1)*s).map((function(e){return r.a.createElement(Fn.a,{hover:!0,key:e.id},r.a.createElement(Hn.a,null,e.customerName),r.a.createElement(Hn.a,null,e.locationName),r.a.createElement(Hn.a,null,e.entranceTime.format("MMMM D, YYYY HH:mm")),r.a.createElement(Hn.a,null,e.exitTime.isValid()&&e.exitTime.format("HH:mm")))})))))),r.a.createElement(Bn.a,{component:"div",count:a.length,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){u(e.target.value)},page:E,rowsPerPage:s,rowsPerPageOptions:[5,10,25]}))},Pr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Dr=Object(i.b)((function(e){return{registries:e.registries.list}}),(function(e){return{getRegistries:function(){return e(A())}}}))((function(e){var t=e.registries,a=e.getRegistries,c=Pr();return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Un,{className:c.root,title:"Products"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(Wt.a,{mt:3},t.length>0?r.a.createElement(Lr,{registries:t}):r.a.createElement(Jn,null))))})),Gr=a(756),Fr=a(752),Hr=a(422),Mr=a.n(Hr)()((function(){return{root:{width:"100%"}}})),Br=Object(i.b)((function(e){return{user:e.authentication.user,loggingIn:e.authentication.loggingIn,error:e.authentication.error}}),(function(e){return{updateDetails:function(t){return e(f(t))}}}))((function(e){var t=e.updateDetails,a=e.loggingIn,c=e.error,o=e.user,i=Object(n.useState)(!1),l=Object(Mt.a)(i,2),s=l[0],u=l[1],m=Object(n.useState)(!1),p=Object(Mt.a)(m,2),E=p[0],d=p[1],g=Mr(),f=function(){u(!1),d(!1)};return Object(n.useEffect)((function(){o&&s&&d(!0)}),[o]),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(fn.a,{initialValues:{name:o.name,isAdministrator:o.isAdministrator},validationSchema:gn.b().shape({name:gn.c().max(255).required("Name is required")}),onSubmit:function(e){t(e),u(!0)}},(function(e){var t=e.errors,n=e.handleBlur,o=e.handleChange,i=e.handleSubmit,l=e.touched,s=e.values;return r.a.createElement("form",{onSubmit:i},r.a.createElement(Pa.a,null,r.a.createElement(or.a,{title:"Update User Details"}),r.a.createElement(zt.a,null),r.a.createElement(Da.a,null,c&&r.a.createElement(qa.a,{severity:"error"},r.a.createElement(Ya.a,null,"Error"),c),r.a.createElement(dn.a,{error:Boolean(l.name&&t.name),fullWidth:!0,helperText:l.name&&t.name,label:"Name",margin:"normal",name:"name",onBlur:n,onChange:o,type:"name",value:s.name,variant:"outlined"}),r.a.createElement(Wa.a,{control:r.a.createElement(Gr.a,{name:"isAdministrator",checked:s.isAdministrator,onChange:o}),label:"Is Administrator"})),r.a.createElement(zt.a,null),r.a.createElement(Wt.a,{p:2,display:"flex",flexDirection:"row",justifyContent:"space-evenly"},r.a.createElement(ua.a,{color:"primary",disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Update"))))})),r.a.createElement(Fr.a,{open:E,autoHideDuration:5e3,onClose:f},r.a.createElement(qa.a,{className:g.root,onClose:f,variant:"filled",severity:"success"},"User details were updated!"))):null})),Wr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Qr=function(){var e=Wr();return r.a.createElement(Un,{className:e.root,title:"Settings"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(Br,null)))},zr=function(e){var t=e.onClose,a=e.open,n=e.value;return r.a.createElement(Ka,{title:"Print QR Code",open:a,onClose:function(){t()}},r.a.createElement(Pa.a,null,r.a.createElement(Da.a,null,r.a.createElement(Wt.a,{alignItems:"center",display:"flex",flexDirection:"column"},r.a.createElement(Or.a,{value:"".concat(n),size:150,renderAs:"svg"})))))},qr=function(e){var t=e.locations,a=Object(n.useState)(10),c=Object(Mt.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(0),s=Object(Mt.a)(l,2),u=s[0],m=s[1],p=Object(n.useState)(null),E=Object(Mt.a)(p,2),d=E[0],g=E[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pa.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Gn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Hn.a,null,"Logo"),r.a.createElement(Hn.a,null,"Name"),r.a.createElement(Hn.a,null,"Description"),r.a.createElement(Hn.a,null,"Current Capacity"),r.a.createElement(Hn.a,null,"Max Capacity"),r.a.createElement(Hn.a,null,"Created By"),r.a.createElement(Hn.a,null,"Created On"))),r.a.createElement(Mn.a,null,t.slice(u*o,(u+1)*o).map((function(e){return r.a.createElement(Fn.a,{hover:!0,key:e.id,onClick:function(){return t=e.id,void g(t);var t}},r.a.createElement(Hn.a,null,r.a.createElement(nn.a,{alt:"Place",src:e.logo,variant:"rounded"})),r.a.createElement(Hn.a,null,r.a.createElement(Wt.a,{alignItems:"center",display:"flex"},r.a.createElement(Qt.a,{color:"textPrimary",variant:"body1"},e.name))),r.a.createElement(Hn.a,null,e.description),r.a.createElement(Hn.a,null,e.maximumCapacity-e.currentCapacity),r.a.createElement(Hn.a,null,e.maximumCapacity),r.a.createElement(Hn.a,null,e.createdBy&&e.createdBy),r.a.createElement(Hn.a,null,e.createdAt&&e.createdAt.format("MMMM D, YYYY")))})))))),r.a.createElement(Bn.a,{component:"div",count:t.length,onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){i(e.target.value)},page:u,rowsPerPage:o,rowsPerPageOptions:[5,10,25]})),r.a.createElement(zr,{open:!!d,value:d,onClose:function(){return g(null)}}))},Yr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Vr=Object(i.b)((function(e){return{locations:e.locations.list}}),(function(e){return{getLocations:function(){return e(x())}}}))((function(e){var t=e.locations,a=e.getLocations,c=Yr();return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Un,{className:c.root,title:"Locations"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(Wt.a,{mt:3},t.length>0?r.a.createElement(qr,{locations:t}):r.a.createElement(Jn,null))))})),Jr=function(e){var t=e.tests,a=Object(n.useState)(10),c=Object(Mt.a)(a,2),o=c[0],i=c[1],l=Object(n.useState)(0),s=Object(Mt.a)(l,2),u=s[0],m=s[1];return r.a.createElement(Pa.a,null,r.a.createElement(Pn.a,null,r.a.createElement(Wt.a,null,r.a.createElement(Dn.a,null,r.a.createElement(Gn.a,null,r.a.createElement(Fn.a,null,r.a.createElement(Hn.a,null,"Date Taken"),r.a.createElement(Hn.a,null,"Taken By"),r.a.createElement(Hn.a,null,"Result"))),r.a.createElement(Mn.a,null,t.slice(u*o,(u+1)*o).map((function(e){return r.a.createElement(Fn.a,{hover:!0,key:e.id},r.a.createElement(Hn.a,null,e.dateTaken&&e.dateTaken.format("MMMM D, YYYY HH:mm")),r.a.createElement(Hn.a,null,r.a.createElement(Wt.a,{alignItems:"center",display:"flex"},r.a.createElement(Qt.a,{color:"textPrimary",variant:"body1"},e.takenBy))),r.a.createElement(Hn.a,null,e.isPositive?"Positve":"Negative"))})))))),r.a.createElement(Bn.a,{component:"div",count:t.length,onChangePage:function(e,t){m(t)},onChangeRowsPerPage:function(e){i(e.target.value)},page:u,rowsPerPage:o,rowsPerPageOptions:[5,10,25]}))},Zr=Object(wt.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}})),Xr=Object(i.b)((function(e){return{tests:e.tests.list}}),(function(e){return{getTests:function(){return e(w())}}}))((function(e){var t=e.tests,a=e.getTests,c=Zr();return Object(n.useEffect)((function(){a()}),[a]),r.a.createElement(Un,{className:c.root,title:"Tests"},r.a.createElement(kn.a,{maxWidth:!1},r.a.createElement(Wt.a,{mt:3},t.length>0?r.a.createElement(Jr,{tests:t}):r.a.createElement(Jn,null))))})),$r=function(e){var t=e.user,a=e.children,r=Object(_t.g)();return Object(n.useEffect)((function(){t||r("/login",{replace:!0})}),[t,r]),a||null};$r.defaultProps={user:null},$r.propTypes={children:Rr.a.oneOfType([Rr.a.arrayOf(Rr.a.node),Rr.a.node]).isRequired,user:Rr.a.shape({name:Rr.a.string})};var Kr=Object(i.b)((function(e){return{user:e.authentication.user||null}}))($r),ec=[{path:"app",element:r.a.createElement(Kr,null,r.a.createElement(In,null)),children:[{path:"users",element:r.a.createElement(Xn,null)},{path:"notifications",element:r.a.createElement(rr,null)},{path:"dashboard",element:r.a.createElement(Cr,null)},{path:"locations",element:r.a.createElement(Vr,null)},{path:"tests",element:r.a.createElement(Xr,null)},{path:"registry",element:r.a.createElement(Dr,null)},{path:"settings",element:r.a.createElement(Qr,null)},{path:"*",element:r.a.createElement(_t.a,{to:"/404"})}]},{path:"/",element:r.a.createElement(_n,null,r.a.createElement(Ir,null)),children:[{path:"login",element:r.a.createElement(Ir,null)},{path:"logout",element:r.a.createElement(_r,null)},{path:"404",element:r.a.createElement(wr,null)},{path:"*",element:r.a.createElement(_t.a,{to:"/404"})},{path:"",element:r.a.createElement(Ir,null)}]}],tc=function(){var e=Object(_t.i)(ec);return r.a.createElement(i.a,{store:Nt},r.a.createElement(kt.a,{theme:Ht},r.a.createElement(Pt,null),e))};o.a.render(r.a.createElement(i.a,{store:Nt},r.a.createElement(l.a,null,r.a.createElement(tc,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[435,1,2]]]);
//# sourceMappingURL=main.b51f080b.chunk.js.map